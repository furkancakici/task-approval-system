generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
}

model User {
    id        String   @id @default(uuid())
    email     String   @unique
    password  String
    name      String
    role      String   @default("User")
    createdAt DateTime @default(now())
    tasks     Task[]
}

model AdminUser {
    id        String   @id @default(uuid())
    email     String   @unique
    password  String
    name      String
    role      String // "Admin" | "Moderator" | "Viewer"
    createdAt DateTime @default(now())
}

model Task {
    id              String   @id @default(uuid())
    title           String
    description     String
    priority        String // "low" | "normal" | "high" | "urgent"
    category        String
    status          String   @default("pending") // "pending" | "approved" | "rejected"
    rejectionReason String?
    createdAt       DateTime @default(now())
    updatedAt       DateTime @updatedAt

    userId String
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)
}
